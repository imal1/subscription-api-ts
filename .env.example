# ===============================================
# Subscription API TypeScript 环境配置文件
# ===============================================
# 这是环境变量配置模板文件
# 在项目安装时会自动复制为 .env 文件并填入默认值
# 
# 安装脚本说明:
# - 主安装脚本: bash scripts/install.sh
# - 服务更新: bash scripts/update.sh  
# - 生产部署: bash scripts/deploy.sh
# - 前端构建: bash scripts/build-frontend.sh
# ===============================================

# 服务基础配置
# ---------------------------------------------
PORT=3000                      # API 服务端口
NODE_ENV=production            # 运行环境: development/production
SERVICE_NAME=subscription-api-ts  # systemd 服务名称 (Linux)

# 协议配置管理
# ---------------------------------------------
# sing-box 支持的配置类型 (用逗号分隔)
SING_BOX_CONFIGS=vless,hysteria2,trojan,tuic,vmess

# 二进制文件路径配置
# ---------------------------------------------
# mihomo (clash-meta 内核) 二进制文件路径
# 留空则使用默认路径: $BASE_DIR/bin/mihomo
MIHOMO_PATH=

# bun 运行时二进制文件路径  
# 留空则使用默认路径: $BASE_DIR/bin/bun
BUN_PATH=

# 目录结构配置
# ---------------------------------------------
# 项目基础目录 - 所有数据文件的根目录
# 默认: $HOME/.config/subscription
# 安装脚本会自动创建以下子目录:
#   - $BASE_DIR/www      (静态文件)
#   - $BASE_DIR/log      (日志文件)  
#   - $BASE_DIR/dist     (构建文件)
#   - $BASE_DIR/bin      (二进制文件)
BASE_DIR=

# 静态文件目录 (网站数据目录)
# 默认: $BASE_DIR/www
# 存储订阅文件、配置文件等静态资源
DATA_DIR=

# 日志文件目录
# 默认: $BASE_DIR/log
# 存储应用日志和访问日志
LOG_DIR=

# 备份文件目录
# 默认: $BASE_DIR/backup
BACKUP_DIR=

# 构建输出目录
# 默认: $BASE_DIR/dist
# 存储编译后的前端和后端文件
DIST_DIR=

# 自动化配置
# ---------------------------------------------
# 定时任务配置 (cron 格式)
# 0 */2 * * * = 每2小时执行一次
AUTO_UPDATE_CRON=0 */2 * * *

# 网络端口配置
# ---------------------------------------------
NGINX_PORT=3080             # Nginx 静态文件服务端口
NGINX_PROXY_PORT=3888       # Nginx 反向代理端口 (推荐访问端口)
MAX_RETRIES=3               # 网络请求最大重试次数
REQUEST_TIMEOUT=30000       # 请求超时时间 (毫秒)

# 外部访问配置
# ---------------------------------------------
# 外部访问主机地址 - 重要配置项！
# 本地开发: localhost
# 服务器部署: your-server.example.com 或 IP地址
# Docker 部署: 容器IP或域名
# 云平台部署: 平台提供的域名
# 此配置影响所有脚本中显示的访问地址
EXTERNAL_HOST=localhost

# 跨域资源共享配置
# ---------------------------------------------
CORS_ORIGIN=*               # 允许的跨域源，* 表示允许所有

# 日志配置
# ---------------------------------------------
# 日志级别: error, warn, info, debug
LOG_LEVEL=info